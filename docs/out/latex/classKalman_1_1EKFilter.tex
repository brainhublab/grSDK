\hypertarget{classKalman_1_1EKFilter}{}\section{Kalman\+:\+:E\+K\+Filter$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$ Class Template Reference}
\label{classKalman_1_1EKFilter}\index{Kalman\+::\+E\+K\+Filter$<$ T, B\+E\+G, O\+Q, O\+V\+R, D\+B\+G $>$@{Kalman\+::\+E\+K\+Filter$<$ T, B\+E\+G, O\+Q, O\+V\+R, D\+B\+G $>$}}


Generic Extended Kalman Filter (E\+KF) template base class.  




{\ttfamily \#include $<$ekfilter.\+hpp$>$}

Inheritance diagram for Kalman\+:\+:E\+K\+Filter$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classKalman_1_1EKFilter}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \{ \mbox{\hyperlink{classKalman_1_1EKFilter_a0665fa7fa760b5235cb556e2503ff687aa3adf9ec22ed3a246105276c85a146c1}{beg}} = B\+EG
 \}
\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a851a633529f2cd75991b1858407011cd}\label{classKalman_1_1EKFilter_a851a633529f2cd75991b1858407011cd}} 
typedef T \mbox{\hyperlink{classKalman_1_1EKFilter_a851a633529f2cd75991b1858407011cd}{type}}
\begin{DoxyCompactList}\small\item\em Type of objects contained in matrices and vectors. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}\label{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}} 
typedef \mbox{\hyperlink{classKalman_1_1KVector}{K\+Vector}}$<$ T, B\+EG, D\+BG $>$ \mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}}
\begin{DoxyCompactList}\small\item\em Vector type. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}\label{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}} 
typedef \mbox{\hyperlink{classKalman_1_1KMatrix}{K\+Matrix}}$<$ T, B\+EG, D\+BG $>$ \mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}}
\begin{DoxyCompactList}\small\item\em Matrix type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}{init}} (\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&x\+\_\+, \mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \&P\+\_\+)
\begin{DoxyCompactList}\small\item\em Sets initial conditions for the Kalman Filter. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}\textbf{ Constructor and Destructor.}\par
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a448c107f8f22cc8b041d34d785dd2a58}\label{classKalman_1_1EKFilter_a448c107f8f22cc8b041d34d785dd2a58}} 
\mbox{\hyperlink{classKalman_1_1EKFilter_a448c107f8f22cc8b041d34d785dd2a58}{E\+K\+Filter}} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_aaf0ddc0f02fe2064481400de28a27fde}{E\+K\+Filter}} (\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} n\+\_\+, \mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} nu\+\_\+, \mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} nw\+\_\+, \mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} m\+\_\+, \mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} nv\+\_\+)
\begin{DoxyCompactList}\small\item\em Constructors specifying all necessary matrix and vector dimensions. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_aeabe4165de52b77d480a6cbe5f2ac572}\label{classKalman_1_1EKFilter_aeabe4165de52b77d480a6cbe5f2ac572}} 
virtual \mbox{\hyperlink{classKalman_1_1EKFilter_aeabe4165de52b77d480a6cbe5f2ac572}{$\sim$\+E\+K\+Filter}} ()
\begin{DoxyCompactList}\small\item\em Virtual destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Dimension Accessor Functions}\par
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a949674c33d413ba357b5818844ade83a}\label{classKalman_1_1EKFilter_a949674c33d413ba357b5818844ade83a}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_a949674c33d413ba357b5818844ade83a}{get\+SizeX}} () const
\begin{DoxyCompactList}\small\item\em Returns the size of the state vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_af767738a6535ed55fd5eeaef2be0711f}\label{classKalman_1_1EKFilter_af767738a6535ed55fd5eeaef2be0711f}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_af767738a6535ed55fd5eeaef2be0711f}{get\+SizeU}} () const
\begin{DoxyCompactList}\small\item\em Returns the size of the input vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a8274cbce6b66f6d5c636b9d0cf2073d7}\label{classKalman_1_1EKFilter_a8274cbce6b66f6d5c636b9d0cf2073d7}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_a8274cbce6b66f6d5c636b9d0cf2073d7}{get\+SizeW}} () const
\begin{DoxyCompactList}\small\item\em Returns the size of the process noise vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a3c3353ebb63c6aecdf6ed33827ca51d1}\label{classKalman_1_1EKFilter_a3c3353ebb63c6aecdf6ed33827ca51d1}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_a3c3353ebb63c6aecdf6ed33827ca51d1}{get\+SizeZ}} () const
\begin{DoxyCompactList}\small\item\em Returns the size of the measurement vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a1b34d010e5de11f2609abef2ffed50e2}\label{classKalman_1_1EKFilter_a1b34d010e5de11f2609abef2ffed50e2}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_a1b34d010e5de11f2609abef2ffed50e2}{get\+SizeV}} () const
\begin{DoxyCompactList}\small\item\em Returns the size of the measurement noise vector. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Resizing Functions}\par
{\em These functions allow to change the dimensions of all matrices and vectors, thus implementing a Variable-\/\+Dimension Extended Kalman Filter. They do nothing if the new size is the same as the old one. \begin{DoxyWarning}{Warning}
{\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a0c311fd7fc6d57c206029ea0e902cf2e}{set\+Dim()}}} (or the five {\ttfamily set\+Size} functions) {\bfseries must} be called {\bfseries before} any other function, or else, matrices and vectors will not have their memory allocated. 
\end{DoxyWarning}
}\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classKalman_1_1EKFilter_a0c311fd7fc6d57c206029ea0e902cf2e}{set\+Dim}} (\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} n\+\_\+, \mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} nu\+\_\+, \mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} nw\+\_\+, \mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} m\+\_\+, \mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} nv\+\_\+)
\begin{DoxyCompactList}\small\item\em Sets all dimensions at once. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classKalman_1_1EKFilter_a9c56983458ab0d3dca1a855baee71280}{set\+SizeX}} (\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} n\+\_\+)
\begin{DoxyCompactList}\small\item\em Sets the size of the state vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a012ca0bbb28a1a4ea93a8ff0f5f07f20}\label{classKalman_1_1EKFilter_a012ca0bbb28a1a4ea93a8ff0f5f07f20}} 
void \mbox{\hyperlink{classKalman_1_1EKFilter_a012ca0bbb28a1a4ea93a8ff0f5f07f20}{set\+SizeU}} (\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} nu\+\_\+)
\begin{DoxyCompactList}\small\item\em Sets the size of the input vector. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classKalman_1_1EKFilter_a6518bb07784ffd30edc70750ec0459f1}{set\+SizeW}} (\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} nw\+\_\+)
\begin{DoxyCompactList}\small\item\em Sets the size of the process noise vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a11e88c8ef5bb4b75c8f287aa6b9a4f13}\label{classKalman_1_1EKFilter_a11e88c8ef5bb4b75c8f287aa6b9a4f13}} 
void \mbox{\hyperlink{classKalman_1_1EKFilter_a11e88c8ef5bb4b75c8f287aa6b9a4f13}{set\+SizeZ}} (\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} m\+\_\+)
\begin{DoxyCompactList}\small\item\em Sets the size of the measurement vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_aac32c8a2321ce673395442d54c436d1a}\label{classKalman_1_1EKFilter_aac32c8a2321ce673395442d54c436d1a}} 
void \mbox{\hyperlink{classKalman_1_1EKFilter_aac32c8a2321ce673395442d54c436d1a}{set\+SizeV}} (\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} nv\+\_\+)
\begin{DoxyCompactList}\small\item\em Sets the size of the measurement noise vector. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Kalman Filter Functions}\par
{\em These functions allow to get the results from the Kalman filtering algorithm. Before any of these can be called, all dimensions must have been set properly at least once and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}{init()}}} must have been called, also at least once. Each time the user want to resize some vectors, the corresponding resizing functions must be called again before being able to call one of the functions in this section. {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}{init()}}} must also be called again if {\itshape n} or {\itshape nw} has changed. {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}{init()}}} can also be called solely to reset the filter. }\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classKalman_1_1EKFilter_ac481300c7de95accb6d3705ee93cb35f}{step}} (\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&u\+\_\+, const \mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&z\+\_\+)
\begin{DoxyCompactList}\small\item\em Makes one prediction-\/correction step. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classKalman_1_1EKFilter_a715d9c634db18e24579673f426750e36}{time\+Update\+Step}} (\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&u\+\_\+)
\begin{DoxyCompactList}\small\item\em Makes one prediction step. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classKalman_1_1EKFilter_a01c2889b2229cb815f9e4b10b0402110}{measure\+Update\+Step}} (const \mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&z\+\_\+)
\begin{DoxyCompactList}\small\item\em Makes one correction step. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \& \mbox{\hyperlink{classKalman_1_1EKFilter_a5f50329514f21971663ae6d4a26a1bb6}{predict}} (\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&u\+\_\+)
\begin{DoxyCompactList}\small\item\em Returns the predicted state vector ({\itshape a priori} state estimate). \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \& \mbox{\hyperlink{classKalman_1_1EKFilter_ae111e647e38f64bed354c85ff8f5c3ad}{simulate}} ()
\begin{DoxyCompactList}\small\item\em Returns the predicted measurement vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a139a2b78cca2fdd1f8d98998608385b0}\label{classKalman_1_1EKFilter_a139a2b78cca2fdd1f8d98998608385b0}} 
const \mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \& \mbox{\hyperlink{classKalman_1_1EKFilter_a139a2b78cca2fdd1f8d98998608385b0}{getX}} () const
\begin{DoxyCompactList}\small\item\em Returns the corrected state ({\itshape a posteriori} state estimate). \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \& \mbox{\hyperlink{classKalman_1_1EKFilter_af73c892e9624013167ddecc04be01044}{calculateP}} () const
\begin{DoxyCompactList}\small\item\em Returns the {\itshape a posteriori} error covariance estimate matrix. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classKalman_1_1EKFilter_ae3350773ed390892c2dd6dfe9dfbca89}{No\+Modification}} ()
\begin{DoxyCompactList}\small\item\em Allows optimizations on some calculations. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a63d12c3635dfb60459b214fb57167bc1}\label{classKalman_1_1EKFilter_a63d12c3635dfb60459b214fb57167bc1}} 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_a63d12c3635dfb60459b214fb57167bc1}{size\+Update}} ()
\begin{DoxyCompactList}\small\item\em Resizes all vector and matrices. {\bfseries Never} call or overload this ! \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}\textbf{ Matrix Pre-\/\+Creators}\par
{\em Theses functions have been designed to be overridden by derived classes if necessary. Their role is to fill in the parts of the Kalman matrices that don\textquotesingle{}t change between iterations. That is to say, these functions should only set constant values inside matrices that don\textquotesingle{}t depend on {\itshape x} or {\itshape u}.

They will all be called at least once, before the calls to their corresponding matrix (not pre-\/) creators. In fact, they are called once per resize (not necessarily at the moment of the resize though), including while the matrices are first allocated.

\begin{DoxyNote}{Note}
Matrices have already been properly resized before these functions are called, so no further resizing is or should be necessary. 

If a matrix pre-\/creator is overridden, but it does not modify in any way the matrix in certain execution paths, then the function {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ae3350773ed390892c2dd6dfe9dfbca89}{No\+Modification()}}} should be called in each of those execution paths so that the filter can optimize away some calculations. The default versions of the matrix pre-\/creators only call {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ae3350773ed390892c2dd6dfe9dfbca89}{No\+Modification()}}} in their bodies. 
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
Each matrix pre-\/creator cannot suppose that any other matrix pre-\/creator will be called before or after it. 
\end{DoxyWarning}
}\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_af3eb4846dcdeaf39ab8f54624588a565}\label{classKalman_1_1EKFilter_af3eb4846dcdeaf39ab8f54624588a565}} 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_af3eb4846dcdeaf39ab8f54624588a565}{make\+BaseA}} ()
\begin{DoxyCompactList}\small\item\em Virtual pre-\/creator of {\itshape A}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a6668b0ffe41e701cc44337546d233465}\label{classKalman_1_1EKFilter_a6668b0ffe41e701cc44337546d233465}} 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_a6668b0ffe41e701cc44337546d233465}{make\+BaseW}} ()
\begin{DoxyCompactList}\small\item\em Virtual pre-\/creator of {\itshape W}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_af996b71b5762e8284226a96c6aac8d87}{make\+BaseQ}} ()
\begin{DoxyCompactList}\small\item\em Virtual pre-\/creator of {\itshape Q}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a2acc1502881abeb70155762fe3e3a644}\label{classKalman_1_1EKFilter_a2acc1502881abeb70155762fe3e3a644}} 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_a2acc1502881abeb70155762fe3e3a644}{make\+BaseH}} ()
\begin{DoxyCompactList}\small\item\em Virtual pre-\/creator of {\itshape H}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_a72e6e032ae5db155eb7d1ba1401db9be}{make\+BaseV}} ()
\begin{DoxyCompactList}\small\item\em Virtual pre-\/creator of {\itshape V}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_adaa2b05e931d64bf8f762812e06ce369}{make\+BaseR}} ()
\begin{DoxyCompactList}\small\item\em Virtual pre-\/creator of {\itshape R}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Matrix Creators}\par
{\em Theses functions have been designed to be overridden by derived classes if necessary. Their role is to fill in the parts of the Kalman matrices that change between iterations. That is to say, these functions should set values inside matrices that depend on {\itshape x} or {\itshape u}.

These functions can suppose that their corresponding matrix pre-\/creator has been called at least once before. Also, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aa2cd9e16f121fe26802a133b4cb37f59}{make\+A()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ac0ea9285a523d219835f7ca2ce932902}{make\+W()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ab9765c4cbe0f67a1aa82ddfbc8173877}{make\+Q()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}{make\+Process()}}} can suppose that {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aace6f213340e7a0c78541454b13e8586}{make\+Common\+Process()}}} is called every time just before it being called. Same thing for {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a357df3cc6833241d5430c58feaed14ed}{make\+H()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a70bb019d226cbf9858954b81c89392a7}{make\+V()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aff7a7f2d08673db1330e04e349b3bb8b}{make\+R()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}{make\+Measure()}}} about {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a89337cacd8115338ffd34637f0ecbd92}{make\+Common\+Measure()}}}.

\begin{DoxyNote}{Note}
Matrices have already been properly resized before these functions are called, so no further resizing is or should be necessary. 

If a matrix creator is overridden, but it does not modify in any way the matrix in certain execution paths, then the function {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ae3350773ed390892c2dd6dfe9dfbca89}{No\+Modification()}}} should be called in each of those execution paths so that the filter can optimize away some calculations. The default versions of the matrix creators only call {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ae3350773ed390892c2dd6dfe9dfbca89}{No\+Modification()}}} in their bodies. 
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
Each matrix creator cannot suppose that any other matrix creator will be called before or after it. One thing is sure \+: {\ttfamily make\+Common$\ast$}() is called first, then some of {\ttfamily make$\ast$}() and finally, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}{make\+Process()}}} or {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}{make\+Measure()}}}. 

These functions can access {\itshape x} and {\itshape u} in read-\/only mode, except \mbox{\hyperlink{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}{make\+Process()}}, which must modify {\itshape x}. 
\end{DoxyWarning}
}\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_aace6f213340e7a0c78541454b13e8586}{make\+Common\+Process}} ()
\begin{DoxyCompactList}\small\item\em Optional function used to precalculate common values for process. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_aa2cd9e16f121fe26802a133b4cb37f59}\label{classKalman_1_1EKFilter_aa2cd9e16f121fe26802a133b4cb37f59}} 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_aa2cd9e16f121fe26802a133b4cb37f59}{makeA}} ()
\begin{DoxyCompactList}\small\item\em Virtual creator of {\itshape A}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_ac0ea9285a523d219835f7ca2ce932902}\label{classKalman_1_1EKFilter_ac0ea9285a523d219835f7ca2ce932902}} 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_ac0ea9285a523d219835f7ca2ce932902}{makeW}} ()
\begin{DoxyCompactList}\small\item\em Virtual creator of {\itshape W}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_ab9765c4cbe0f67a1aa82ddfbc8173877}{makeQ}} ()
\begin{DoxyCompactList}\small\item\em Virtual creator of {\itshape Q}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}{make\+Process}} ()=0
\begin{DoxyCompactList}\small\item\em Actual process $ f(x, u, 0) $. Fills in new {\itshape x} by using old {\itshape x}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_a89337cacd8115338ffd34637f0ecbd92}{make\+Common\+Measure}} ()
\begin{DoxyCompactList}\small\item\em Optional function used to precalculate common values for measurement. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a357df3cc6833241d5430c58feaed14ed}\label{classKalman_1_1EKFilter_a357df3cc6833241d5430c58feaed14ed}} 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_a357df3cc6833241d5430c58feaed14ed}{makeH}} ()
\begin{DoxyCompactList}\small\item\em Virtual creator of {\itshape H}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_a70bb019d226cbf9858954b81c89392a7}{makeV}} ()
\begin{DoxyCompactList}\small\item\em Virtual creator of {\itshape V}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_aff7a7f2d08673db1330e04e349b3bb8b}{makeR}} ()
\begin{DoxyCompactList}\small\item\em Virtual creator of {\itshape R}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}{make\+Measure}} ()=0
\begin{DoxyCompactList}\small\item\em Actual measurement function $ h(x, 0) $. Fills in {\itshape z}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter_a54a168299879f6b3023b0a42b1afe29d}{make\+DZ}} ()
\begin{DoxyCompactList}\small\item\em Hook-\/up function to modify innovation vector. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Protected Attributes}
\begin{Indent}\textbf{ Kalman Vectors and Matrices}\par
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \mbox{\hyperlink{classKalman_1_1EKFilter_abc9456e14fd29b7c82ad901ab3e4e63f}{x}}
\begin{DoxyCompactList}\small\item\em Corrected state vector. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \mbox{\hyperlink{classKalman_1_1EKFilter_ad4403db2f52f9a47cd9f432fc44e0a5d}{u}}
\begin{DoxyCompactList}\small\item\em Input vector. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \mbox{\hyperlink{classKalman_1_1EKFilter_a91baacb49f7fae74c449c1d21424f126}{z}}
\begin{DoxyCompactList}\small\item\em Predicted measurement vector. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \mbox{\hyperlink{classKalman_1_1EKFilter_af1976aeb370c1741133bf47528ff8e03}{dz}}
\begin{DoxyCompactList}\small\item\em Innovation vector. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter_a5d936cd96a598b5d8534aeb474012c5a}{A}}
\begin{DoxyCompactList}\small\item\em A jacobian matrix. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter_a3a50c13fef614d595d01afa70184db84}{W}}
\begin{DoxyCompactList}\small\item\em A jacobian matrix. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter_a1f25e9c8bce9efb50cf3c3a5f3ba6822}{Q}}
\begin{DoxyCompactList}\small\item\em Process noise covariance matrix. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter_ac10c3f39cdcb10bf3bcf30f48efdb48d}{H}}
\begin{DoxyCompactList}\small\item\em A jacobian matrix. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter_a9289999f22782549b25b67c4ae81b1c5}{V}}
\begin{DoxyCompactList}\small\item\em A jacobian matrix. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter_ae869345d1d3bb288d87b849556cf7c4f}{R}}
\begin{DoxyCompactList}\small\item\em Measurement noise covariance matrix. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Kalman Dimensions}\par
{\em \begin{DoxyWarning}{Warning}
These values, which are accessible to derived classes, are read-\/only. The derived classes should use the resizing functions to modify vector and matrix dimensions. 
\end{DoxyWarning}
}\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a6bfb25c8cd793856593b25054cbc3da8}\label{classKalman_1_1EKFilter_a6bfb25c8cd793856593b25054cbc3da8}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_a6bfb25c8cd793856593b25054cbc3da8}{n}}
\begin{DoxyCompactList}\small\item\em Size of the state vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_ac1b71009af5616611d8dd775084e2237}\label{classKalman_1_1EKFilter_ac1b71009af5616611d8dd775084e2237}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_ac1b71009af5616611d8dd775084e2237}{nu}}
\begin{DoxyCompactList}\small\item\em Size of the input vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_a93c465859315350239341b7242c721f9}\label{classKalman_1_1EKFilter_a93c465859315350239341b7242c721f9}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_a93c465859315350239341b7242c721f9}{nw}}
\begin{DoxyCompactList}\small\item\em Size of the process noise vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_afa8dc375c7bed34028a45b17514c88fc}\label{classKalman_1_1EKFilter_afa8dc375c7bed34028a45b17514c88fc}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_afa8dc375c7bed34028a45b17514c88fc}{m}}
\begin{DoxyCompactList}\small\item\em Size of the measurement vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classKalman_1_1EKFilter_ab839a4708545eac86f62c65be060688e}\label{classKalman_1_1EKFilter_ab839a4708545eac86f62c65be060688e}} 
\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}} \mbox{\hyperlink{classKalman_1_1EKFilter_ab839a4708545eac86f62c65be060688e}{nv}}
\begin{DoxyCompactList}\small\item\em Size of the measurement noise vector. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\subsection{Detailed Description}
\subsubsection*{template$<$typename T, K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$\newline
class Kalman\+::\+E\+K\+Filter$<$ T, B\+E\+G, O\+Q, O\+V\+R, D\+B\+G $>$}

Generic Extended Kalman Filter (E\+KF) template base class. 

\begin{DoxyParagraph}{Usage}
"The Kalman filter is a set of mathematical equations that provides an efficient computational (recursive) solution of the least-\/squares method. The filter is very powerful in several aspects\+: it supports estimations of past, present, and even future states, and it can do so even when the precise nature of the modeled system is unknown." (quoted from \mbox{[}02\mbox{]}) ~\newline
 This version of the Kalman filter is in fact a Variable-\/\+Dimension Extended Kalman Filter (V\+D\+E\+KF). It supports optimized algorithms (translated from Fortran -\/ see \mbox{[}01\mbox{]}), even in the presence of correlated process or measurement noise. ~\newline
 To use this template class, you must first inherit from it and implement some virtual functions. See the example page for more informations. Note that you can copy freely an {\ttfamily E\+K\+Filter-\/derived} class freely \+: this can be useful if you need to branch your filter based on some condition.
\end{DoxyParagraph}
\begin{DoxyParagraph}{Notation}
We prefered the notation of \mbox{[}02\mbox{]} \+: here it is. Assume a state vector $ x $ (to estimate) and a non-\/linear process function $ f $ (to model) that describes the evolution of this state through time, that is \+: \[ x_k = f \left( x_{k-1}, u_{k-1}, w_{k-1} \right) \] where $ u $ is the (known) input vector fed to the process and $ w $ is the (unknown) process noise vector due to uncertainty and process modeling errors. Further suppose that the (known) process noise covariance matrix is \+: \[ Q = E \left( w w^T \right) \] Now, let\textquotesingle{}s assume a (known) measurement vector $ z $, which depends on the current state $ x $ in the form of a non-\/linear function $ h $ (to model) \+: \[ z_k = h \left( x_k, v_k \right) \] where $ v $ is the (unknown) measurement noise vector with a (known) covariance matrix \+: \[ R = E \left( v v^T \right) \] Suppose that we have an estimate of the previous state $ \hat{x}_{k-1} $, called a corrected state or an {\itshape a posteriori} state estimate. We can build a predicted state (also called an {\itshape a priori} state estimate) by using $ f $ \+: \[ \tilde{x}_k = f \left( \hat{x}_{k-1}, u_{k-1}, 0 \right) \] since the input is known and the process noise, unknown. With this predicted state, we can get a predicted measurement vector by using $ h $ \+: \[ \tilde{z}_k = h \left( \tilde{x}_k, 0 \right) \] since the measurement noise is unknown. To obtain a linear least-\/squares formulation, we need to linearize those two systems. Here are first-\/order Taylor series centered on $ \tilde{x}_k $\+: \[ x_k \approx f \left( \hat{x}_{k-1}, u_{k-1}, 0 \right) //! + \frac{\partial f}{\partial x} \left( \hat{x}_{k-1}, u_{k-1}, 0 \right) //! \left( \Delta x \right) //! + \frac{\partial f}{\partial u} \left( \hat{x}_{k-1}, u_{k-1}, 0 \right) //! \left( \Delta u \right) //! + \frac{\partial f}{\partial w} \left( \hat{x}_{k-1}, u_{k-1}, 0 \right) //! \left( \Delta w \right) \] \[ \phantom{x_k} = \tilde{x}_k + A \left( x_{k-1} - \hat{x}_{k-1} //! \right) + W w_{k-1} \] We can do the same for the other system \+: \[ z_k \approx h \left( \tilde{x}_k, 0 \right) //! + \frac{\partial h}{\partial x} \left( \tilde{x}_k, 0 \right) //! \left( \Delta x \right) //! + \frac{\partial h}{\partial v} \left( \tilde{x}_k, 0 \right) //! \left( \Delta v \right) \] \[ \phantom{z_k} = \tilde{z}_k + H \left( x_k - \tilde{x}_k \right) //! + V v_k \] The user of this class must derive from it, and implement all the functions corresponding to {\itshape A}, {\itshape W}, {\itshape Q}, f, {\itshape H}, {\itshape V}, {\itshape R} and h.
\end{DoxyParagraph}
\begin{DoxyParagraph}{References}
\mbox{[}01\mbox{]} Bierman, G. J. \char`\"{}\+Factorization Methods for Discrete Sequential
    Estimation\char`\"{}, Academic Press, 1977. ~\newline
 \mbox{[}02\mbox{]} Welch, G. and Bishop, G. \char`\"{}\+An Introduction to the \%\+Kalman Filter\char`\"{}, \href{http://www.cs.unc.edu/~welch/kalman/kalmanIntro.html}{\tt http\+://www.\+cs.\+unc.\+edu/$\sim$welch/kalman/kalman\+Intro.\+html}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Template parameters}

\begin{DoxyItemize}
\item {\ttfamily T} \+: Type of elements contained in matrices and vectors. Usually {\ttfamily float} or {\ttfamily double}.
\item {\ttfamily B\+EG} \+: Starting index of matrices and vectors. Can be either 0 or 1.
\item {\ttfamily OQ} \+: Optimize calculations on {\itshape Q}. This can be turned on if {\itshape Q} is diagonal.
\item {\ttfamily O\+VR} \+: Optimize calculations on {\itshape V} and {\itshape R}. This can be turned on if {\itshape V} and {\itshape R} are both diagonal matrices.
\item {\ttfamily D\+GB} \+: Debug flag. If {\ttfamily true}, then bound-\/checking will be performed, and {\ttfamily \mbox{\hyperlink{structKalman_1_1OutOfBoundError}{Out\+Of\+Bound\+Error}}} exceptions can be thrown.
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Type requirements for T}

\begin{DoxyItemize}
\item {\ttfamily T} must be {\bfseries default constructible}.
\item {\ttfamily T} must be {\bfseries constructible from} {\ttfamily double}.
\item {\ttfamily T} must be {\bfseries assignable}.
\item {\ttfamily T} must be {\bfseries equality comparable}.
\item {\ttfamily T} must be {\bfseries serializable}.
\item {\ttfamily T} must support {\bfseries basic arithmetic operations}.
\end{DoxyItemize}This means that, if {\ttfamily t1}, {\ttfamily t2} are instances of {\ttfamily T}, {\ttfamily op} is an arithmetic operator (+ -\/ $\ast$ /), {\ttfamily is} is of type {\ttfamily istream} and {\ttfamily os} is of type {\ttfamily ostream}, the following expressions must be valid \+:
\begin{DoxyItemize}
\item 
\begin{DoxyCode}
T(); T t1; 
\end{DoxyCode}
 Default constructor
\item 
\begin{DoxyCode}
T(0.0); T t1(1.0); 
\end{DoxyCode}
 Constructor from {\ttfamily double} 
\item 
\begin{DoxyCode}
T t1 = t2; T t1(t2); T(t1); 
\end{DoxyCode}
 Copy constructor
\item 
\begin{DoxyCode}
t1 op t2 
\end{DoxyCode}
 Arithmetic operation, convertible to {\ttfamily T} 
\item 
\begin{DoxyCode}
-t1 
\end{DoxyCode}
 Negation operator, convertible to {\ttfamily T}. Same as \+:
\begin{DoxyCode}
T(0.0) - t1; 
\end{DoxyCode}

\item 
\begin{DoxyCode}
t1 = t2; 
\end{DoxyCode}
 Assignment operator
\item 
\begin{DoxyCode}
t1 op= t2; 
\end{DoxyCode}
 Arithmetic inplace operation. Same as \+:
\begin{DoxyCode}
t1 = t1 op t2; 
\end{DoxyCode}

\item 
\begin{DoxyCode}
t1 == t2 
\end{DoxyCode}
 Equality comparison, convertible to {\ttfamily bool} 
\item 
\begin{DoxyCode}
is >> t1; 
\end{DoxyCode}
 {\ttfamily \mbox{\hyperlink{namespaceKalman_a72ce00e837fa126ab3961f879e3d8b87}{operator$>$$>$()}}} 
\item 
\begin{DoxyCode}
os << t1; 
\end{DoxyCode}
 {\ttfamily \mbox{\hyperlink{namespaceKalman_a531684dadbec9b34313492f6d5121598}{operator$<$$<$()}}} 
\end{DoxyItemize}
\end{DoxyParagraph}
Finally, note that {\ttfamily \mbox{\hyperlink{namespaceKalman_a72ce00e837fa126ab3961f879e3d8b87}{operator$>$$>$()}}} and {\ttfamily \mbox{\hyperlink{namespaceKalman_a531684dadbec9b34313492f6d5121598}{operator$<$$<$()}}} must be compatible. Also, {\ttfamily operator\&()} must not have been overloaded. 

\subsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a0665fa7fa760b5235cb556e2503ff687}\label{classKalman_1_1EKFilter_a0665fa7fa760b5235cb556e2503ff687}} 
\subsubsection{\texorpdfstring{anonymous enum}{anonymous enum}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
anonymous enum}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{beg@{beg}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!beg@{beg}}}\mbox{\Hypertarget{classKalman_1_1EKFilter_a0665fa7fa760b5235cb556e2503ff687aa3adf9ec22ed3a246105276c85a146c1}\label{classKalman_1_1EKFilter_a0665fa7fa760b5235cb556e2503ff687aa3adf9ec22ed3a246105276c85a146c1}} 
beg&Starting index of matrices and vectors. \\
\hline

\end{DoxyEnumFields}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classKalman_1_1EKFilter_aaf0ddc0f02fe2064481400de28a27fde}\label{classKalman_1_1EKFilter_aaf0ddc0f02fe2064481400de28a27fde}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!E\+K\+Filter@{E\+K\+Filter}}
\index{E\+K\+Filter@{E\+K\+Filter}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{E\+K\+Filter()}{EKFilter()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::\mbox{\hyperlink{classKalman_1_1EKFilter}{E\+K\+Filter}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{n\+\_\+,  }\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{nu\+\_\+,  }\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{nw\+\_\+,  }\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{m\+\_\+,  }\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{nv\+\_\+ }\end{DoxyParamCaption})}



Constructors specifying all necessary matrix and vector dimensions. 

This constructor simply calls {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a0c311fd7fc6d57c206029ea0e902cf2e}{set\+Dim()}}} with all the corresponding arguments. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classKalman_1_1EKFilter_af73c892e9624013167ddecc04be01044}\label{classKalman_1_1EKFilter_af73c892e9624013167ddecc04be01044}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!calculateP@{calculateP}}
\index{calculateP@{calculateP}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{calculate\+P()}{calculateP()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
const K\+T\+Y\+P\+E\+N\+A\+ME \mbox{\hyperlink{classKalman_1_1EKFilter}{E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \& \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::calculateP (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the {\itshape a posteriori} error covariance estimate matrix. 

\begin{DoxyWarning}{Warning}
This is not a simple return statement. Since P is not kept and updated in the filter (an alternate and more stable representation of P is used), calculations are involved to retrieve P. So, use this function wisely. 

For better efficiency, P is returned by reference. The reference points to an internal member of the filter, which means that other functions may invalidate the contents of this matrix. This also means that this matrix must be copied (or better yet, swapped) as soon as possible if its data is needed later. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}\label{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!init@{init}}
\index{init@{init}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&}]{x\+\_\+,  }\item[{\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \&}]{P\+\_\+ }\end{DoxyParamCaption})}



Sets initial conditions for the Kalman Filter. 

This function allows to set an initial state estimate vector and an initial error covariance matrix estimate. This must be called at least once, after all dimensioning functions and before any other function. However, it can also be called anytime to reset or modify {\itshape x} or {\itshape P}. 
\begin{DoxyParams}{Parameters}
{\em x\+\_\+} & State vector estimate. Will be destroyed. \\
\hline
{\em P\+\_\+} & Error covariance matrix estimate. Will be destroyed. \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
If {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a0c311fd7fc6d57c206029ea0e902cf2e}{set\+Dim()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a9c56983458ab0d3dca1a855baee71280}{set\+Size\+X()}}} or {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a6518bb07784ffd30edc70750ec0459f1}{set\+Size\+W()}}} is called, then \mbox{\hyperlink{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}{init()}} must be called again before any other non-\/dimensioning function. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_af996b71b5762e8284226a96c6aac8d87}\label{classKalman_1_1EKFilter_af996b71b5762e8284226a96c6aac8d87}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!make\+BaseQ@{make\+BaseQ}}
\index{make\+BaseQ@{make\+BaseQ}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+Base\+Q()}{makeBaseQ()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::make\+BaseQ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Virtual pre-\/creator of {\itshape Q}. 

\begin{DoxyNote}{Note}
If {\ttfamily OQ} is {\ttfamily true}, that is, if {\ttfamily Q} is always diagonal, then it is not necessary to initialize non-\/diagonal elements with anything meaningful. 
\end{DoxyNote}
\mbox{\Hypertarget{classKalman_1_1EKFilter_adaa2b05e931d64bf8f762812e06ce369}\label{classKalman_1_1EKFilter_adaa2b05e931d64bf8f762812e06ce369}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!make\+BaseR@{make\+BaseR}}
\index{make\+BaseR@{make\+BaseR}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+Base\+R()}{makeBaseR()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::make\+BaseR (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Virtual pre-\/creator of {\itshape R}. 

\begin{DoxyNote}{Note}
If {\ttfamily O\+VR} is {\ttfamily true}, that is, if {\ttfamily both} V and R are always diagonal, then it is not necessary to initialize non-\/diagonal elements with anything meaningful. 
\end{DoxyNote}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a72e6e032ae5db155eb7d1ba1401db9be}\label{classKalman_1_1EKFilter_a72e6e032ae5db155eb7d1ba1401db9be}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!make\+BaseV@{make\+BaseV}}
\index{make\+BaseV@{make\+BaseV}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+Base\+V()}{makeBaseV()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::make\+BaseV (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Virtual pre-\/creator of {\itshape V}. 

\begin{DoxyNote}{Note}
If {\ttfamily O\+VR} is {\ttfamily true}, that is, if {\ttfamily both} V and R are always diagonal, then it is not necessary to initialize non-\/diagonal elements with anything meaningful. 
\end{DoxyNote}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a89337cacd8115338ffd34637f0ecbd92}\label{classKalman_1_1EKFilter_a89337cacd8115338ffd34637f0ecbd92}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!make\+Common\+Measure@{make\+Common\+Measure}}
\index{make\+Common\+Measure@{make\+Common\+Measure}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+Common\+Measure()}{makeCommonMeasure()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::make\+Common\+Measure (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Optional function used to precalculate common values for measurement. 

If complex calculations are needed for more than one of {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a357df3cc6833241d5430c58feaed14ed}{make\+H()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a70bb019d226cbf9858954b81c89392a7}{make\+V()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aff7a7f2d08673db1330e04e349b3bb8b}{make\+R()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}{make\+Measure()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a54a168299879f6b3023b0a42b1afe29d}{make\+D\+Z()}}} functions, then this function can be used to store the results in temporary variables of the derived class. \begin{DoxyWarning}{Warning}
This function must not modify any matrix of the base class. 

This function must not be used to store permanent state. In other words, all calculations performed in this function should be temporary. This is because the {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ae111e647e38f64bed354c85ff8f5c3ad}{simulate()}}} function will call this function but has no knowledge of how to undo it. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_aace6f213340e7a0c78541454b13e8586}\label{classKalman_1_1EKFilter_aace6f213340e7a0c78541454b13e8586}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!make\+Common\+Process@{make\+Common\+Process}}
\index{make\+Common\+Process@{make\+Common\+Process}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+Common\+Process()}{makeCommonProcess()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::make\+Common\+Process (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Optional function used to precalculate common values for process. 

If complex calculations are needed for more than one of {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aa2cd9e16f121fe26802a133b4cb37f59}{make\+A()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ac0ea9285a523d219835f7ca2ce932902}{make\+W()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ab9765c4cbe0f67a1aa82ddfbc8173877}{make\+Q()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}{make\+Process()}}} functions, then this function can be used to store the results in temporary variables of the derived class. \begin{DoxyWarning}{Warning}
This function must not modify any matrix of the base class. 

This function must not be used to store permanent state. In other words, all calculations performed in this function should be temporary. This is because the {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a5f50329514f21971663ae6d4a26a1bb6}{predict()}}} function will call this function but has no knowledge of how to undo it. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a54a168299879f6b3023b0a42b1afe29d}\label{classKalman_1_1EKFilter_a54a168299879f6b3023b0a42b1afe29d}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!make\+DZ@{make\+DZ}}
\index{make\+DZ@{make\+DZ}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+D\+Z()}{makeDZ()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::make\+DZ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Hook-\/up function to modify innovation vector. 

This function should rarely be overridden ; this is more of a hack than anything else. In fact, this is used to perform adjustements on the result of substracting the predicted measurement vector to the real measurement vector. This is needed, for example, when measures include angles. It may be mandatory that the difference of the two angles be in a certain range, like $ [-\pi, \pi] $. \mbox{\Hypertarget{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}\label{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!make\+Measure@{make\+Measure}}
\index{make\+Measure@{make\+Measure}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+Measure()}{makeMeasure()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::make\+Measure (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}



Actual measurement function $ h(x, 0) $. Fills in {\itshape z}. 

This function {\bfseries must} be overridden, since it is the core of the measurement system. At the time this will be called, {\itshape x} contains the predicted state ({\itshape a priori} state estimate), which is the one that must be used with the measurement function. \begin{DoxyWarning}{Warning}
This function should have no side effects to class members (even members of derived classes) other than {\itshape z}. This is because this function is used by {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ae111e647e38f64bed354c85ff8f5c3ad}{simulate()}}}, which does a calculation and then undoes it before returning the result. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}\label{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!make\+Process@{make\+Process}}
\index{make\+Process@{make\+Process}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+Process()}{makeProcess()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
virtual void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::make\+Process (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}



Actual process $ f(x, u, 0) $. Fills in new {\itshape x} by using old {\itshape x}. 

This function {\bfseries must} be overridden, since it is the core of the system process. \begin{DoxyWarning}{Warning}
This function should have no side effects to class members (even members of derived classes) other than {\itshape x}. This is because this function is used by {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a5f50329514f21971663ae6d4a26a1bb6}{predict()}}}, which does a calculation and then undoes it before returning the result. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_ab9765c4cbe0f67a1aa82ddfbc8173877}\label{classKalman_1_1EKFilter_ab9765c4cbe0f67a1aa82ddfbc8173877}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!makeQ@{makeQ}}
\index{makeQ@{makeQ}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+Q()}{makeQ()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::makeQ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Virtual creator of {\itshape Q}. 

\begin{DoxyNote}{Note}
If {\ttfamily OQ} is {\ttfamily true}, that is, if {\ttfamily Q} is always diagonal, then it is not necessary to initialize non-\/diagonal elements with anything meaningful. 
\end{DoxyNote}
\mbox{\Hypertarget{classKalman_1_1EKFilter_aff7a7f2d08673db1330e04e349b3bb8b}\label{classKalman_1_1EKFilter_aff7a7f2d08673db1330e04e349b3bb8b}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!makeR@{makeR}}
\index{makeR@{makeR}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+R()}{makeR()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::makeR (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Virtual creator of {\itshape R}. 

\begin{DoxyNote}{Note}
If {\ttfamily O\+VR} is {\ttfamily true}, that is, if {\ttfamily both} V and R are always diagonal, then it is not necessary to initialize non-\/diagonal elements with anything meaningful. 
\end{DoxyNote}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a70bb019d226cbf9858954b81c89392a7}\label{classKalman_1_1EKFilter_a70bb019d226cbf9858954b81c89392a7}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!makeV@{makeV}}
\index{makeV@{makeV}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{make\+V()}{makeV()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::makeV (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Virtual creator of {\itshape V}. 

\begin{DoxyNote}{Note}
If {\ttfamily O\+VR} is {\ttfamily true}, that is, if {\ttfamily both} V and R are always diagonal, then it is not necessary to initialize non-\/diagonal elements with anything meaningful. 
\end{DoxyNote}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a01c2889b2229cb815f9e4b10b0402110}\label{classKalman_1_1EKFilter_a01c2889b2229cb815f9e4b10b0402110}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!measure\+Update\+Step@{measure\+Update\+Step}}
\index{measure\+Update\+Step@{measure\+Update\+Step}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{measure\+Update\+Step()}{measureUpdateStep()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::measure\+Update\+Step (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&}]{z\+\_\+ }\end{DoxyParamCaption})}



Makes one correction step. 

First, this function resizes any matrix who needs it. If {\ttfamily z\+\_\+} is empty, that is, if there are no measures in this step, there is no correction and the function stops there. Else, the measure update phase begins. This means that the following virtual functions {\itshape should be} called \+: {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a89337cacd8115338ffd34637f0ecbd92}{make\+Common\+Measure()}}}, {\ttfamily make\+H\+Impl()}, {\ttfamily make\+V\+Impl()}, {\ttfamily make\+R\+Impl()}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}{make\+Measure()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a54a168299879f6b3023b0a42b1afe29d}{make\+D\+Z()}}}.After this phase, {\itshape x} contains the new corrected state. 
\begin{DoxyParams}{Parameters}
{\em z\+\_\+} & Measurement vector. Will {\bfseries not} be destroyed. Can be empty. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classKalman_1_1EKFilter_ae3350773ed390892c2dd6dfe9dfbca89}\label{classKalman_1_1EKFilter_ae3350773ed390892c2dd6dfe9dfbca89}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!No\+Modification@{No\+Modification}}
\index{No\+Modification@{No\+Modification}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{No\+Modification()}{NoModification()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::No\+Modification (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Allows optimizations on some calculations. 

By default, the \mbox{\hyperlink{classKalman_1_1EKFilter}{E\+K\+Filter}} template class suppose that matrix pre-\/creators and creators modify all matrices. However, if it could suppose that some of these functions do not modify anything, some calculations could be optimized away. The {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ae3350773ed390892c2dd6dfe9dfbca89}{No\+Modification()}}} function says that the function in which it has been called has not modified any matrix. For optimization purposes, this means that this function should be called in every non-\/mutating execution branch of all {\ttfamily make$\ast$}() and {\ttfamily make\+Base$\ast$}() functions. \mbox{\Hypertarget{classKalman_1_1EKFilter_a5f50329514f21971663ae6d4a26a1bb6}\label{classKalman_1_1EKFilter_a5f50329514f21971663ae6d4a26a1bb6}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!predict@{predict}}
\index{predict@{predict}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{predict()}{predict()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
const K\+T\+Y\+P\+E\+N\+A\+ME \mbox{\hyperlink{classKalman_1_1EKFilter}{E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \& \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::predict (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&}]{u\+\_\+ }\end{DoxyParamCaption})}



Returns the predicted state vector ({\itshape a priori} state estimate). 

This function is used to predict a future state. First, it resizes any matrix who needs it. Then, it does a partial time update, in the sense that only {\itshape x} is updated, not P. This also means that only the following virtual functions {\itshape should be} called \+: {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aace6f213340e7a0c78541454b13e8586}{make\+Common\+Process()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}{make\+Process()}}}. 
\begin{DoxyParams}{Parameters}
{\em u\+\_\+} & Input vector. Will {\bfseries not} be destroyed. Can be empty. \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The real {\itshape x} is not modified by this function (this is a {\ttfamily const} function). Only a copy of {\itshape x} is returned. 
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
For better efficiency, the prediction is returned by reference. The reference points to an internal member of the filter, which means that a new prediction (and many other functions) will invalidate the contents of this vector. This also means that this vector must be copied (or better yet, swapped) as soon as possible if its data is needed later. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a0c311fd7fc6d57c206029ea0e902cf2e}\label{classKalman_1_1EKFilter_a0c311fd7fc6d57c206029ea0e902cf2e}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!set\+Dim@{set\+Dim}}
\index{set\+Dim@{set\+Dim}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{set\+Dim()}{setDim()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::set\+Dim (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{n\+\_\+,  }\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{nu\+\_\+,  }\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{nw\+\_\+,  }\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{m\+\_\+,  }\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{nv\+\_\+ }\end{DoxyParamCaption})}



Sets all dimensions at once. 

This function simply calls the {\ttfamily set\+Size$\ast$}() functions for {\ttfamily x, u, w, z, v} with the corresponding arguments. \begin{DoxyWarning}{Warning}
This function (or the corresponding five {\ttfamily set\+Size$\ast$}() functions) must be called before any other functions. 

{\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}{init()}}} must always be called after this function and before any other non-\/dimensioning function. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a6518bb07784ffd30edc70750ec0459f1}\label{classKalman_1_1EKFilter_a6518bb07784ffd30edc70750ec0459f1}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!set\+SizeW@{set\+SizeW}}
\index{set\+SizeW@{set\+SizeW}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{set\+Size\+W()}{setSizeW()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::set\+SizeW (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{nw\+\_\+ }\end{DoxyParamCaption})}



Sets the size of the process noise vector. 


\begin{DoxyParams}{Parameters}
{\em nw\+\_\+} & New process noise vector size. \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
{\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}{init()}}} must always be called after this function and before any other non-\/dimensioning function. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a9c56983458ab0d3dca1a855baee71280}\label{classKalman_1_1EKFilter_a9c56983458ab0d3dca1a855baee71280}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!set\+SizeX@{set\+SizeX}}
\index{set\+SizeX@{set\+SizeX}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{set\+Size\+X()}{setSizeX()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::set\+SizeX (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceKalman_a628a50cae10f6e2035393d4f96c698bd}{K\+\_\+\+U\+I\+N\+T\+\_\+32}}}]{n\+\_\+ }\end{DoxyParamCaption})}



Sets the size of the state vector. 


\begin{DoxyParams}{Parameters}
{\em n\+\_\+} & New state vector size. Must not be 0. \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
{\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a80d5dc8f46e8f5d4ec3a6b1e804fdc9f}{init()}}} must always be called after this function and before any other non-\/dimensioning function. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_ae111e647e38f64bed354c85ff8f5c3ad}\label{classKalman_1_1EKFilter_ae111e647e38f64bed354c85ff8f5c3ad}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!simulate@{simulate}}
\index{simulate@{simulate}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{simulate()}{simulate()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
const K\+T\+Y\+P\+E\+N\+A\+ME \mbox{\hyperlink{classKalman_1_1EKFilter}{E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \& \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::simulate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the predicted measurement vector. 

This function is used to predict a future measurement. First, it resizes any matrix who needs it. Then, it does a partial measure update, in the sense that only {\itshape z} is calculated \+: {\itshape x} and P are not updated. This also means that only the following virtual functions {\itshape should be} called \+: {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a89337cacd8115338ffd34637f0ecbd92}{make\+Common\+Measure()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}{make\+Measure()}}}. \begin{DoxyNote}{Note}
This is a {\ttfamily const} function. It only works on copies of vectors. 
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
For better efficiency, the prediction is returned by reference. The reference points to an internal member of the filter, which means that a new prediction (and many other functions) will invalidate the contents of this vector. This also means that this vector must be copied (or better yet, swapped) as soon as possible if its data is needed later. 
\end{DoxyWarning}
\mbox{\Hypertarget{classKalman_1_1EKFilter_ac481300c7de95accb6d3705ee93cb35f}\label{classKalman_1_1EKFilter_ac481300c7de95accb6d3705ee93cb35f}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!step@{step}}
\index{step@{step}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{step()}{step()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::step (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&}]{u\+\_\+,  }\item[{const \mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&}]{z\+\_\+ }\end{DoxyParamCaption})}



Makes one prediction-\/correction step. 

This is the main {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter}{E\+K\+Filter}}} function. First, it resizes any matrix who needs it. Then, it proceeds to the time update phase, using the input vector {\ttfamily u\+\_\+}. This means that the following virtual functions {\itshape should be} called \+: {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aace6f213340e7a0c78541454b13e8586}{make\+Common\+Process()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aa2cd9e16f121fe26802a133b4cb37f59}{make\+A()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ac0ea9285a523d219835f7ca2ce932902}{make\+W()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ab9765c4cbe0f67a1aa82ddfbc8173877}{make\+Q()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}{make\+Process()}}}. At this stage, {\itshape x} contains a current predicted state instead of an old corrected state. If {\ttfamily z\+\_\+} is empty, that is, if there are no measures in this step, there is no correction and the function stops there. Else, the measure update phase begins. This means that the following virtual functions {\itshape should be} called \+: {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a89337cacd8115338ffd34637f0ecbd92}{make\+Common\+Measure()}}}, {\ttfamily make\+H\+Impl()}, {\ttfamily make\+V\+Impl()}, {\ttfamily make\+R\+Impl()}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}{make\+Measure()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a54a168299879f6b3023b0a42b1afe29d}{make\+D\+Z()}}}.After this phase, {\itshape x} contains the new corrected state. 
\begin{DoxyParams}{Parameters}
{\em u\+\_\+} & Input vector. Will {\bfseries not} be destroyed. Can be empty. \\
\hline
{\em z\+\_\+} & Measurement vector. Will {\bfseries not} be destroyed. Can be empty. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a715d9c634db18e24579673f426750e36}\label{classKalman_1_1EKFilter_a715d9c634db18e24579673f426750e36}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!time\+Update\+Step@{time\+Update\+Step}}
\index{time\+Update\+Step@{time\+Update\+Step}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{time\+Update\+Step()}{timeUpdateStep()}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ, bool O\+VR, bool D\+BG$>$ \\
void \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::time\+Update\+Step (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \&}]{u\+\_\+ }\end{DoxyParamCaption})}



Makes one prediction step. 

This function first resizes any matrix who needs it. Then, it proceeds to the time update phase, using the input vector {\ttfamily u\+\_\+}. This means that the following virtual functions {\itshape should be} called \+: {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aace6f213340e7a0c78541454b13e8586}{make\+Common\+Process()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aa2cd9e16f121fe26802a133b4cb37f59}{make\+A()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ac0ea9285a523d219835f7ca2ce932902}{make\+W()}}}, {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ab9765c4cbe0f67a1aa82ddfbc8173877}{make\+Q()}}} and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}{make\+Process()}}}. At this stage, {\itshape x} contains a current predicted state instead of an old corrected state. 
\begin{DoxyParams}{Parameters}
{\em u\+\_\+} & Input vector. Will {\bfseries not} be destroyed. Can be empty. \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classKalman_1_1EKFilter_a5d936cd96a598b5d8534aeb474012c5a}\label{classKalman_1_1EKFilter_a5d936cd96a598b5d8534aeb474012c5a}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!A@{A}}
\index{A@{A}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{A}{A}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::A\hspace{0.3cm}{\ttfamily [protected]}}



A jacobian matrix. 

This is an {\itshape n} by {\itshape n} jacobian matrix of partial derivatives, defined as follow \+: \[ A_{[i,j]} = \frac{\partial f_{[i]}}{\partial x_{[j]}} \] Derived classes should modify it only through {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_af3eb4846dcdeaf39ab8f54624588a565}{make\+Base\+A()}}} for the constant part and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aa2cd9e16f121fe26802a133b4cb37f59}{make\+A()}}} for the variable part. \mbox{\Hypertarget{classKalman_1_1EKFilter_af1976aeb370c1741133bf47528ff8e03}\label{classKalman_1_1EKFilter_af1976aeb370c1741133bf47528ff8e03}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!dz@{dz}}
\index{dz@{dz}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{dz}{dz}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::dz\hspace{0.3cm}{\ttfamily [protected]}}



Innovation vector. 

This is an {\itshape m-\/sized} vector. Derived classes should modify it only through {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a54a168299879f6b3023b0a42b1afe29d}{make\+D\+Z()}}}. The innovation vector is the difference between the real measurement vector and the predicted one. \mbox{\Hypertarget{classKalman_1_1EKFilter_ac10c3f39cdcb10bf3bcf30f48efdb48d}\label{classKalman_1_1EKFilter_ac10c3f39cdcb10bf3bcf30f48efdb48d}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!H@{H}}
\index{H@{H}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{H}{H}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::H\hspace{0.3cm}{\ttfamily [protected]}}



A jacobian matrix. 

This is an {\itshape m} by {\itshape n} jacobian matrix of partial derivatives, defined as follow \+: \[ H_{[i,j]} = \frac{\partial h_{[i]}}{\partial x_{[j]}} \] Derived classes should modify it only through {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a2acc1502881abeb70155762fe3e3a644}{make\+Base\+H()}}} for the constant part and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a357df3cc6833241d5430c58feaed14ed}{make\+H()}}} for the variable part. \mbox{\Hypertarget{classKalman_1_1EKFilter_a1f25e9c8bce9efb50cf3c3a5f3ba6822}\label{classKalman_1_1EKFilter_a1f25e9c8bce9efb50cf3c3a5f3ba6822}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!Q@{Q}}
\index{Q@{Q}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{Q}{Q}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::Q\hspace{0.3cm}{\ttfamily [protected]}}



Process noise covariance matrix. 

This is the {\itshape nw} by {\itshape nw} covariance matrix of {\itshape w}, that is \+: \[ Q = E\left( w w^T \right) \] Derived classes should modify it only through {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_af996b71b5762e8284226a96c6aac8d87}{make\+Base\+Q()}}} for the constant part and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ab9765c4cbe0f67a1aa82ddfbc8173877}{make\+Q()}}} for the variable part. If {\itshape Q} is always diagonal, then you should turn on the {\ttfamily OQ} optimization. \mbox{\Hypertarget{classKalman_1_1EKFilter_ae869345d1d3bb288d87b849556cf7c4f}\label{classKalman_1_1EKFilter_ae869345d1d3bb288d87b849556cf7c4f}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!R@{R}}
\index{R@{R}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{R}{R}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::R\hspace{0.3cm}{\ttfamily [protected]}}



Measurement noise covariance matrix. 

This is the {\itshape nv} by {\itshape nv} covariance matrix of {\itshape v}, that is \+: \[ R = E\left( v v^T \right) \] Derived classes should modify it only through {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_adaa2b05e931d64bf8f762812e06ce369}{make\+Base\+R()}}} for the constant part and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aff7a7f2d08673db1330e04e349b3bb8b}{make\+R()}}} for the variable part. If both {\itshape V} and {\itshape R} are always diagonal, then you should turn on the {\ttfamily O\+VR} optimization. \mbox{\Hypertarget{classKalman_1_1EKFilter_ad4403db2f52f9a47cd9f432fc44e0a5d}\label{classKalman_1_1EKFilter_ad4403db2f52f9a47cd9f432fc44e0a5d}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!u@{u}}
\index{u@{u}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{u}{u}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::u\hspace{0.3cm}{\ttfamily [protected]}}



Input vector. 

This is an {\itshape nu-\/sized} vector. Derived classes should never modify it. \mbox{\Hypertarget{classKalman_1_1EKFilter_a9289999f22782549b25b67c4ae81b1c5}\label{classKalman_1_1EKFilter_a9289999f22782549b25b67c4ae81b1c5}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!V@{V}}
\index{V@{V}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{V}{V}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::V\hspace{0.3cm}{\ttfamily [protected]}}



A jacobian matrix. 

This is an {\itshape m} by {\itshape nv} jacobian matrix of partial derivatives, defined as follow \+: \[ V_{[i,j]} = \frac{\partial h_{[i]}}{\partial v_{[j]}} \] Derived classes should modify it only through {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a72e6e032ae5db155eb7d1ba1401db9be}{make\+Base\+V()}}} for the constant part and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a70bb019d226cbf9858954b81c89392a7}{make\+V()}}} for the variable part. If both V and R are always diagonal, then you should turn on the {\ttfamily O\+VR} optimization. \mbox{\Hypertarget{classKalman_1_1EKFilter_a3a50c13fef614d595d01afa70184db84}\label{classKalman_1_1EKFilter_a3a50c13fef614d595d01afa70184db84}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!W@{W}}
\index{W@{W}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{W}{W}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_a7cbc4cb4d9139a7f241b27110426af43}{Matrix}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::W\hspace{0.3cm}{\ttfamily [protected]}}



A jacobian matrix. 

This is an {\itshape n} by {\itshape nw} jacobian matrix of partial derivatives, defined as follow \+: \[ W_{[i,j]} = \frac{\partial f_{[i]}}{\partial w_{[j]}} \] Derived classes should modify it only through {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a6668b0ffe41e701cc44337546d233465}{make\+Base\+W()}}} for the constant part and {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_ac0ea9285a523d219835f7ca2ce932902}{make\+W()}}} for the variable part. \mbox{\Hypertarget{classKalman_1_1EKFilter_abc9456e14fd29b7c82ad901ab3e4e63f}\label{classKalman_1_1EKFilter_abc9456e14fd29b7c82ad901ab3e4e63f}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!x@{x}}
\index{x@{x}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{x}{x}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::x\hspace{0.3cm}{\ttfamily [protected]}}



Corrected state vector. 

This is an {\itshape n-\/sized} vector. Derived classes should modify it only through {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_a778232d397d981c08b3ca23ea800aa6a}{make\+Process()}}}. \mbox{\Hypertarget{classKalman_1_1EKFilter_a91baacb49f7fae74c449c1d21424f126}\label{classKalman_1_1EKFilter_a91baacb49f7fae74c449c1d21424f126}} 
\index{Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}!z@{z}}
\index{z@{z}!Kalman\+::\+E\+K\+Filter@{Kalman\+::\+E\+K\+Filter}}
\subsubsection{\texorpdfstring{z}{z}}
{\footnotesize\ttfamily template$<$typename T , K\+\_\+\+U\+I\+N\+T\+\_\+32 B\+EG, bool OQ = false, bool O\+VR = false, bool D\+BG = true$>$ \\
\mbox{\hyperlink{classKalman_1_1EKFilter_af773d1217ecb01925b857d49b32bc636}{Vector}} \mbox{\hyperlink{classKalman_1_1EKFilter}{Kalman\+::\+E\+K\+Filter}}$<$ T, B\+EG, OQ, O\+VR, D\+BG $>$\+::z\hspace{0.3cm}{\ttfamily [protected]}}



Predicted measurement vector. 

This is an {\itshape m-\/sized} vector. Derived classes should modify it only through {\ttfamily \mbox{\hyperlink{classKalman_1_1EKFilter_aac9f6d80e5ec9e6ea2ccf045cb682df8}{make\+Measure()}}}. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/vlad/projects/brainhub/gestus\+S\+D\+K/inc/kalman/\mbox{\hyperlink{ekfilter_8hpp}{ekfilter.\+hpp}}\item 
/home/vlad/projects/brainhub/gestus\+S\+D\+K/inc/kalman/\mbox{\hyperlink{ekfilter__impl_8hpp}{ekfilter\+\_\+impl.\+hpp}}\end{DoxyCompactItemize}
